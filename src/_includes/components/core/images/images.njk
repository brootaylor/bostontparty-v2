{################################################################################################}
{# Dynamic multi purpose image implementation
{################################################################################################}
{% if content.data.image.multiFormat %}
<picture>
	{# If multiple formats, a `webp` version is included with another format - eg. `jpg` #}
  <source srcset="{{ content.data.image.multiSrc.webP }}" type="image/webp">
	{% if content.data.image.multiSize %}
		{# Multiple image size sources generated... #}
		<img src="{{ content.data.image.multiSrc.default }}"
			srcset="{{ content.data.image.multiSrc.small }} 256w,
							{{ content.data.image.multiSrc.medium }} 512w,
							{{ content.data.image.multiSrc.large }} 1024w"
			sizes="(min-width: 30em) 30em, 100vw"
		{% if content.data.image.alt %} alt="{{ content.data.image.alt }}."{% endif %}
		{% if content.data.image.objectFit %} class="obj-fit"{% endif %}>
	{% else %}
	{# Single image generated... #}
	<img src="{{ content.data.image.src }}"{% if content.data.image.alt %} alt="{{ content.data.image.alt }}."{% endif %}{% if content.data.image.objectFit %} class="obj-fit"{% endif %}>
	{% endif %}
</picture>
{% else %}
	{# A single format - eg. `jpg` is used #}
	{% if content.data.image.multiSize %}
		{# Multiple image size sources generated... #}
		<img src="{{ content.data.image.multiSrc.default }}"
			srcset="{{ content.data.image.multiSrc.small }} 256w,
							{{ content.data.image.multiSrc.medium }} 512w,
							{{ content.data.image.multiSrc.large }} 1024w"
			sizes="(min-width: 30em) 30em, 100vw"
		{% if content.data.image.alt %} alt="{{ content.data.image.alt }}."{% endif %}
		{% if content.data.image.objectFit %} class="obj-fit"{% endif %}>
	{% else %}
	{# Single image generated... #}
	<img src="{{ content.data.image.src }}"{% if content.data.image.alt %} alt="{{ content.data.image.alt }}."{% endif %}{% if content.data.image.objectFit %} class="obj-fit"{% endif %}>
	{% endif %}
{% endif %}


{################################################################################################}
{# These 'macros' are useful when adding to a content page - eg. within the markdow (.md) files #}
{################################################################################################}

{# `imageNormal`: Normal inline image #}
{% macro imageNormal(src, alt, position) %}
<img src="{{ src }}" alt="{{ alt }}." class="[ img-normal ]{% if position %} [ {{ position }} ]{% endif %}">
{% endmacro %}

{# `imageMulti`: for multi responsive images #}
{% macro imageMulti(src, alt, position) %}
<img src="{{ src }}"
			srcset="{{ src }} 256w,
							{{ src }} 512w,
							{{ src }} 1024w"
			sizes="(min-width: 30em) 30em, 100vw"
			loading="lazy"
			alt="{{ alt }}."
			class="[ img-normal ]{% if position %} [ {{ position }} ]{% endif %}">
{% endmacro %}

{# `imageMultiResolution`: for multi resolution images #}
{% macro imageMultiResolution(src, src2, src3, alt, position) %}
<img src="{{ src }}"
			srcset="{{ src }},
							{{ src2 }} 1.5x,
							{{ src3 }} 2x"
			loading="lazy"
			alt="{{ alt }}."
			class="[ img-normal ]{% if position %} [ {{ position }} ]{% endif %}">
{% endmacro %}

{# `imageFigure`: Normal inline images wrapped in a `figure` element #}
{% macro imageFigure(src, alt, caption, position) %}
<figure{% if position %} class="[ {{ position }} ]"{% endif %}>
	<img src="{{ src }}" alt="{{ alt }}.">
	<figcaption>{{ caption }}.</figcaption>
</figure>
{% endmacro %}

{# `imageMultiFigure`: for multi responsive images wrapped in a `figure` element #}
{% macro imageMultiFigure(src, alt, caption, position) %}
<figure{% if position %} class="[ {{ position }} ]"{% endif %}>
	<img src="{{ src }}"
			srcset="{{ src }} 256w,
							{{ src }} 512w,
							{{ src }} 1024w"
			sizes="(min-width: 30em) 30em, 100vw"
			loading="lazy"
			alt="{{ alt }}.">
	<figcaption>{{ caption }}.</figcaption>
</figure>
{% endmacro %}
